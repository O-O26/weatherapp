<!DOCTYPE html lang="en">
    <head>
        <style>
            body{
                margin: 7em 0;
                padding: 0;
                box-sizing: border-box;
                text-align: center;
                font-size: 1em;
                background-color: darkkhaki;
            }
            #city, #button{
                font-size: 1.5em;
            }
        </style>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Weather App API</title>
    </head>
    <body>
        <input type="text" placeholder="Enter city" id="city">
        <button type="submit" id="button">Submit</button>

        <div class="display">
            <span> <h1 id="name"></h1> <h1 id="country"></h1> </span>
            <p id="latitude"></p>
            <p id="longitude"></p>
            <p id="desc"></p>
            <p id="temp"></p>
            <p id="temp-rec"></p>
        </div>

        <script>
            const button = document.querySelector("#button")
            const inputValue = document.querySelector("#city")
            let name = document.querySelector("#name")
            let country = document.querySelector("#country")
            let latitude = document.querySelector("#latitude")
            let longitude = document.querySelector("#longitude")
            let desc = document.querySelector("#desc")
            let temp = document.querySelector("#temp")
            let tempRec = document.querySelector("#temp-rec")

            button.addEventListener("click", function(){
                fetch("https://api.openweathermap.org/data/2.5/weather?q="+inputValue.value+
            "&appid=b1437aa41de36fd6064af22ec73b8367&units=metric")
                .then(response => response.json())
                .then(data => {
                    console.log(data)
                    let nameValue = data["name"];
                    let countryValue = data["sys"]["country"];
                    let latitudeValue = data["coord"]["lat"]
                    let longitudeValue = data["coord"]["lon"]
                    let descValue = data["weather"][0]["description"]
                    let tempValue = data["main"]["temp"]

                    name.innerText = nameValue
                    country.innerText = `${nameValue} is in ${countryValue}`
                    //latitude.innerText = `${nameValue} has a latitude of ${latitudeValue} degrees from of the Equator`
                    //longitude.innerText = `${nameValue} has a longitude of ${longitudeValue} degrees from the Meridian Line`
                    desc.innerText = `${nameValue} has a weather description of ${descValue}`
                    temp.innerText = `${nameValue} has a temperature of ${tempValue} celcius`

                    if(latitudeValue < 0){
                        latitude.innerText = `${nameValue} has a latitude of ${latitudeValue} degrees (south of the Equator)`
                    } else{
                        latitude.innerText = `${nameValue} has a latitude of ${latitudeValue} degrees (north of the Equator)`
                    }
                    
                    if(longitudeValue < 0){
                        longitude.innerText = `${nameValue} has a longitude of ${longitudeValue} degrees (West of the Prime Meridian Line)`
                    } else{
                        longitude.innerText = `${nameValue} has a longitude of ${longitudeValue} degrees (East of the Prime Meridian Line`
                    }
                })
            .catch(err => alert("Wrong city name"))
            })
        </script>
    </body>
</html>